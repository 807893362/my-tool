# NIO
- 使用NIO != 高性能，当连接数<1000，并发程度不高或者局域网环境下NIO并没有显著的性能优势。 
- NIO并没有完全屏蔽平台差异，它仍然是基于各个操作系统的I/O系统实现的，差异仍然存在。使用NIO做网络编程构建事件驱动模型并不容易，陷阱重重。
- 推荐大家使用成熟的NIO框架，如Netty，MINA等。解决了很多NIO的陷阱，并屏蔽了操作系统的差异，有较好的性能和编程模型。

## CPU100% BUG
- epoll bug，它会导致Selector空轮询，最终导致CPU 100%。
- Netty的解决办法 对Selector的select操作周期进行统计，每完成一次空的select操作进行一次计数，
- 若在某个周期内连续发生N次空轮询，则触发了epoll死循环bug。

## 优点-与BIO相比
- 没有线程的开销，读写都在主线程内完成，虽然主线程也会阻塞，但是只是独立的单线程轮训操作。剩余的I/O操作都是纯CPU操作，没有必要开启多线程。
## 缺点
- Java的Selector对于Linux系统来说，有一个致命限制：同一个channel的select不能被并发的调用。
- 因此，如果有多个I/O线程，必须保证：一个socket只能属于一个IoThread，而一个IoThread可以管理多个socket。





